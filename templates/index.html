<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –º–µ–Ω—é KBU</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        fontFamily: {
                            inter: ["Inter", "sans-serif"],
                        },
                    },
                },
            };
        </script>
        <link rel="stylesheet" href="/static/styles.css" />
    </head>
    <body class="min-h-screen flex flex-col" data-theme="halloween">
        <!-- Background Emoji Decorations -->
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="top: 15%; left: 8%"
        >
            üåü
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="top: 25%; right: 12%"
        >
            ‚ú®
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="top: 45%; left: 5%"
        >
            üå∏
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="top: 55%; right: 8%"
        >
            üéÉ
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="top: 70%; left: 15%"
        >
            üëª
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="bottom: 30%; right: 20%"
        >
            ü¶á
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="bottom: 20%; left: 25%"
        >
            üç¨
        </div>
        <div
            class="emoji-decoration"
            aria-hidden="true"
            style="bottom: 10%; right: 5%"
        >
            üåô
        </div>

        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="text-center">
                    <h1
                        class="text-3xl font-bold text-gray-900 text-adaptive-primary mb-2"
                    >
                        –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –º–µ–Ω—é
                    </h1>
                    <p class="text-gray-600 text-adaptive-secondary">
                        KBU –ö–∞—Ñ–µ
                    </p>
                    <p
                        class="text-sm text-gray-500 text-adaptive-muted mt-1"
                        id="current-date"
                    ></p>

                    <!-- Theme Switcher -->
                    <!--<div class="mt-4 flex justify-center">
                        <select id="theme-switcher" class="px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="default">üåÖ –û–±—ã—á–Ω–∞—è —Ç–µ–º–∞</option>
                            <option value="halloween">üéÉ –•—ç–ª–ª–æ—É–∏–Ω</option>
                            <option value="christmas">üéÑ –†–æ–∂–¥–µ—Å—Ç–≤–æ</option>
                        </select>
                    </div>-->
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main
            class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full"
        >
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Peony Restaurant Card -->
                <div
                    class="peony-card restaurant-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"
                >
                    <div class="peony-gradient p-8">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-2xl font-bold text-white">
                                    Peony
                                </h2>
                                <p class="text-purple-100">
                                    –í–µ—Ä—Ö–Ω—è—è —Å—Ç–æ–ª–æ–≤–∞—è, –∞–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è
                                </p>
                            </div>
                            <div
                                class="bg-white/20 backdrop-blur-sm rounded-full p-3"
                            >
                                <svg
                                    class="w-8 h-8 text-white"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                                    ></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        {{if .Peony}} {{if .Peony.Time}}
                        <p
                            class="text-sm text-gray-500 text-adaptive-muted mb-4"
                        >
                            –û–±–Ω–æ–≤–ª–µ–Ω–æ: {{.Peony.Time.Format "15:04"}}
                        </p>
                        {{end}} {{if .Peony.Items}}
                        <div class="space-y-4">
                            {{range .Peony.Items}}
                            <div class="border-l-4 peony-border pl-4 py-2">
                                <h3
                                    class="font-semibold text-gray-900 text-adaptive-primary dish-name"
                                >
                                    {{.Name}}
                                </h3>
                                {{if .Description}}
                                <p
                                    class="text-gray-600 text-adaptive-secondary text-sm mt-1"
                                >
                                    {{.Description}}
                                </p>
                                {{end}} {{if .Spiciness}}
                                <div class="flex items-center mt-2">
                                    <span
                                        class="text-xs text-gray-500 text-adaptive-muted mr-2"
                                        >–û—Å—Ç—Ä–æ—Ç–∞:</span
                                    >
                                    <div
                                        class="spiciness-indicator"
                                        title="–û—Å—Ç—Ä–æ—Ç–∞: {{.Spiciness}}/5"
                                    >
                                        {{if eq .Spiciness 1}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 2}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 3}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 4}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 5}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}}
                                    </div>
                                </div>
                                {{end}}
                            </div>
                            {{end}}
                        </div>
                        {{else}}
                        <div class="text-center py-8">
                            <svg
                                class="w-16 h-16 text-gray-300 text-adaptive-muted mx-auto mb-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                ></path>
                            </svg>
                            <p class="text-gray-500 text-adaptive-muted italic">
                                –°–µ–≥–æ–¥–Ω—è —Ç—É—Ç –ø—É—Å—Ç–æ üòî
                            </p>
                        </div>
                        {{end}} {{else}}
                        <div class="text-center py-8">
                            <svg
                                class="w-16 h-16 text-gray-300 text-adaptive-muted mx-auto mb-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                                ></path>
                            </svg>
                            <div class="loading-state">
                                <span>–ú–µ–Ω—é –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è...</span>
                                <span>üçΩÔ∏è</span>
                            </div>
                        </div>
                        {{end}}
                    </div>
                </div>

                <!-- Azilea Restaurant Card -->
                <div
                    class="azilea-card restaurant-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"
                >
                    <div class="azilea-gradient p-8">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-2xl font-bold text-white">
                                    Azilea
                                </h2>
                                <p class="text-green-100">
                                    –ù–∏–∂–Ω—è—è —Å—Ç–æ–ª–æ–≤–∞—è, –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è
                                </p>
                            </div>
                            <div
                                class="bg-white/20 backdrop-blur-sm rounded-full p-3"
                            >
                                <svg
                                    class="w-8 h-8 text-white"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                                    ></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="p-8">
                        {{if .Azilea}} {{if .Azilea.Time}}
                        <p
                            class="text-sm text-gray-500 text-adaptive-muted mb-4"
                        >
                            –û–±–Ω–æ–≤–ª–µ–Ω–æ: {{.Azilea.Time.Format "15:04"}}
                        </p>
                        {{end}} {{if .Azilea.Items}}
                        <div class="space-y-4">
                            {{range .Azilea.Items}}
                            <div class="border-l-4 azilea-border pl-4 py-2">
                                <h3
                                    class="font-semibold text-gray-900 text-adaptive-primary dish-name"
                                >
                                    {{.Name}}
                                </h3>
                                {{if .Description}}
                                <p
                                    class="text-gray-600 text-adaptive-secondary text-sm mt-1"
                                >
                                    {{.Description}}
                                </p>
                                {{end}} {{if .Spiciness}}
                                <div class="flex items-center mt-2">
                                    <span
                                        class="text-xs text-gray-500 text-adaptive-muted mr-2"
                                        >–û—Å—Ç—Ä–æ—Ç–∞:</span
                                    >
                                    <div
                                        class="spiciness-indicator"
                                        title="–û—Å—Ç—Ä–æ—Ç–∞: {{.Spiciness}}/5"
                                    >
                                        {{if eq .Spiciness 1}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 2}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 3}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 4}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}} {{if eq .Spiciness 5}}<span
                                            class="spiciness-chili"
                                            >üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        ><span class="spiciness-chili">üå∂Ô∏è</span
                                        >{{end}}
                                    </div>
                                </div>
                                {{end}}
                            </div>
                            {{end}}
                        </div>
                        {{else}}
                        <div class="text-center py-8">
                            <svg
                                class="w-16 h-16 text-gray-300 text-adaptive-muted mx-auto mb-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                ></path>
                            </svg>
                            <p class="text-gray-500 text-adaptive-muted italic">
                                –°–µ–≥–æ–¥–Ω—è —Ç—É—Ç –ø—É—Å—Ç–æ üòî
                            </p>
                        </div>
                        {{end}} {{else}}
                        <div class="text-center py-8">
                            <svg
                                class="w-16 h-16 text-gray-300 text-adaptive-muted mx-auto mb-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                                ></path>
                            </svg>
                            <div class="loading-state">
                                <span>–ú–µ–Ω—é –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è...</span>
                                <span>üçΩÔ∏è</span>
                            </div>
                        </div>
                        {{end}}
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white border-t border-gray-200 mt-auto">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="text-center">
                    <div class="mb-6">
                        <h3
                            class="text-lg font-semibold text-gray-900 text-adaptive-primary mb-2"
                        >
                            –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à Telegram –±–æ—Ç
                        </h3>
                        <p class="text-gray-600 text-adaptive-secondary mb-4">
                            –ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–º –º–µ–Ω—é –ø—Ä—è–º–æ –≤
                            Telegram
                        </p>
                        <a
                            href="https://t.me/kbudailymenubot"
                            target="_blank"
                            class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white theme-primary hover:opacity-90 transition-opacity duration-200"
                        >
                            <svg
                                class="w-5 h-5 mr-2"
                                fill="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"
                                />
                            </svg>
                            –û—Ç–∫—Ä—ã—Ç—å Telegram –±–æ—Ç
                        </a>
                    </div>
                    <div class="flex flex-col items-center gap-4">
                        <h3
                            class="text-lg font-semibold text-gray-900 text-adaptive-primary"
                        >
                            –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–∏–µ —Å—Ç–∏–∫–µ—Ä—ã –≤ Telegram
                        </h3>
                        <a
                            href="https://t.me/addstickers/kto326"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="group sticker-card flex flex-col items-center text-adaptive-secondary"
                        >
                            <img
                                src="/static/stickers/kto.webp"
                                alt="–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–∏–π —Å—Ç–∏–∫–µ—Ä –∏–∑ –Ω–∞–±–æ—Ä–∞ Telegram"
                                class="sticker-preview h-32 w-auto drop-shadow-lg transition duration-300 transform group-hover:scale-110 group-hover:-rotate-3 group-hover:drop-shadow-2xl"
                                loading="lazy"
                            />
                            <span
                                class="mt-3 inline-flex items-center text-sm font-medium text-blue-600 transition duration-300 group-hover:text-blue-500 group-hover:translate-x-1"
                            >
                                –û—Ç–∫—Ä—ã—Ç—å –Ω–∞–±–æ—Ä —Å—Ç–∏–∫–µ—Ä–æ–≤
                                <svg
                                    class="ml-2 h-4 w-4"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M14 3h7m0 0v7m0-7L10 14"
                                    ></path>
                                </svg>
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </footer>

        <script>
            // Theme switching functionality
            const themeSwitcher = document.getElementById("theme-switcher");
            const body = document.body;

            // Theme-specific emoji decorations
            const themeEmojis = {
                default: ["üçï", "ü•ó", "üç∞", "‚òï", "üçé"],
                halloween: ["üéÉ", "üëª", "ü¶á", "üç¨", "üåô"],
                christmas: ["‚ùÑÔ∏è", "üéÑ", "‚≠ê", "üéÅ", "üîî"],
            };

            // Update emoji decorations based on theme
            function updateEmojiDecorations(theme) {
                const decorations =
                    document.querySelectorAll(".emoji-decoration");
                const emojis = themeEmojis[theme] || themeEmojis.default;

                decorations.forEach((decoration, index) => {
                    decoration.textContent = emojis[index % emojis.length];
                });
            }

            // Load saved theme from localStorage
            const savedTheme = localStorage.getItem("theme") || "halloween";
            body.setAttribute("data-theme", savedTheme);
            if (themeSwitcher) themeSwitcher.value = savedTheme;
            updateEmojiDecorations(savedTheme);

            // Theme switcher event listener
            if (themeSwitcher) {
                themeSwitcher.addEventListener("change", (e) => {
                    const selectedTheme = e.target.value;
                    body.setAttribute("data-theme", selectedTheme);
                    localStorage.setItem("theme", selectedTheme);
                    updateEmojiDecorations(selectedTheme);
                });
            }

            // Set current date in Russian
            const options = {
                weekday: "long",
                year: "numeric",
                month: "long",
                day: "numeric",
            };
            const today = new Date();
            const russianDate = today.toLocaleDateString("ru-RU", options);
            document.getElementById("current-date").textContent =
                russianDate.charAt(0).toUpperCase() + russianDate.slice(1);

            // Auto-refresh every 5 minutes
            setTimeout(() => {
                location.reload();
            }, 300000);

            // Add click effects to emoji decorations
            document.querySelectorAll(".emoji-decoration").forEach((emoji) => {
                emoji.addEventListener("click", function () {
                    this.style.transform = "scale(1.5) rotate(360deg)";
                    this.style.opacity = "0.2";
                    setTimeout(() => {
                        this.style.transform = "";
                        this.style.opacity = "";
                    }, 300);
                });
            });
        </script>
    </body>
</html>
